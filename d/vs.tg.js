(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=1)})([function(){(function(a){function b(a){this.data=a.options,this.filterNames=a.filterNames}function c(){this.filtersToBeHandled=['size','price'],this.viewType={MOBILE:'mobileData',DESKTOP:'desktopData'},this.desktopData={size:['Size','Shoe Size'],price:['Price'],popupElement:document.querySelector('#allFilterPopupTop'),element:function(a){var b=`.filterLeftContent > .h6[data-ref="${a}_tab"]`;return document.querySelector(b)}},this.mobileData={size:['standard_size','sh_size'],price:['price'],popupElement:document.querySelector('#mobile-filter'),element:function(a){var b=`#filter-container > li.${a}>.h6`;return document.querySelector(b)}},this.filterTrigger='jb:catalog:onMobileFilterApplied'}function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(b){a.location=k+'?q='+encodeURI(b)}function f(){a.Recognition.dialog.open&&a.Recognition.dialog.close()}function g(a,b){if(a)return a;return b?b:''}function h(){if(a.sessionStorage)return sessionStorage.getItem('cat')}function j(b,c){a.sessionStorage&&sessionStorage.setItem('cat',g(b,c))}function i(a){this.store=new b(a),this.domManipulator=new c,this.selectedFilters}var k=`https://${a.location.host}/find`,l=document.getElementById('search').value;b.prototype.get=function(a,b){var c;return this.data&&this.data[a]&&this.data[a][b]&&(c=this.data[a][b]),c},c.prototype.getElement=function(a,b){var c,d=this[a];for(let e of d[b])if(c=d.element(e),c)return c;return c},c.prototype.openPopUp=function(a,b){var c=this.getElement(a,b);return!c||(this[a].popupElement.click(),c.click(),!0)},c.prototype.checkWordForPopup=function(a){return!this.filtersToBeHandled.includes(a)||(setTimeout(f,500),m()?this.openPopUp(this.viewType.DESKTOP,a):this.openPopUp(this.viewType.MOBILE,a))};var m=function(){var b=!0;return(document.querySelector('.touch-enabled')&&1024>=a.innerWidth||1024>a.innerWidth)&&(b=!1),function(){return b}}();i.prototype.getFromSearchBox=function(){if(''!==l){return words=l.split(' '),this.getCategoryWord('categories',words)}return''},i.prototype.getCategoryWord=function(a,b){for(var c=0;c<b.length;c++)for(var d,e=0;e<b.length;e++)if(d=b.slice(c,e+1).join(' '),this.store.get(a,d))return d;return''},i.prototype.applyFilter=function(b,c){if(setTimeout(f,500),b&&0>=this.selectedFilters.length)e(c);else if(b)try{$(a).trigger(this.domManipulator.filterTrigger,[this.selectedFilters])}catch(a){e(c)}},i.prototype.filters=function(a){for(var b,c=0;c<this.store.filterNames.length;c++)b=this.store.get(this.store.filterNames[c],a),b&&this.selectedFilters.push({parent:this.store.filterNames[c],value:d(a),type:b})},i.prototype.checkFilter=function(a){var b=!1,c=a.split(' ');this.selectedFilters=[];var d=h()||this.getFromSearchBox(),f=this.getCategoryWord('categories',c);if(!d||d===f||!f){for(var g=0;g<c.length&&(this.domManipulator.filtersToBeHandled.includes(c[g])&&(b=this.domManipulator.checkWordForPopup(c[g])),!b);g++)this.filters(c[g]);this.applyFilter(!b,a)}else e(a);j(f,d)},a.VoiceTextHandler=new i({options:{categories:{shoes:'true',jewellery:'true',accessories:'true',"home and furniture":'true',sports:'true',clothing:'true',"peep toes":'true',toys:'true',"kids toys":'true',"kids shoes":'true',sandals:'true',slippers:'true',sneakers:'true',"flip flops":'true',bellies:'true',"formal shoes":'true',boots:'true',floaters:'true',beauty:'true',"women beauty":'true',fragrances:'true',"perfumes and edts":'true',"deodorants and colognes":'true',"gift sets":'true',"make up":'true',lips:'true',lipstick:'true',"lip gloss":'true',"lip liner":'true',"lip pencil":'true',"lip pallete":'true',"lip brush":'true',eye:'true',kajal:'true',"eye liner":'true',kurta:'true',kurti:'true',suits:'true',saree:'true',tops:'true',tees:'true',shirt:'true',jeans:'true',leggings:'true',sunglasses:'true',dresses:'true',watches:'true',polos:'true',shorts:'true',skirts:'true',trousers:'true',top:'true',pants:'true',pant:'true',sheets:'true',"bed sheets":'true',"bed sheet":'true',shirts:'true',trouser:'true',jacket:'true',sweater:'true',shrug:'true',bag:'true',bags:'true'},colors:{black:'checkbox',brown:'checkbox',purple:'checkbox',blue:'checkbox',red:'checkbox',green:'checkbox',tan:'checkbox',transparent:'checkbox',white:'checkbox',yellow:'checkbox',maroon:'checkbox',orange:'checkbox',copper:'checkbox',silver:'checkbox',khaki:'checkbox'},gender:{men:'input',women:'input',kids:'input',girls:'input',boys:'input',unisex:'input'}},filterNames:['colors','gender']})})(window)},function(a,b,c){c(0);(function(a){'use strict';function b(){let a=document.head||document.getElementsByTagName('head')[0],b=document.createElement('style');b.type='text/css',b.styleSheet?b.styleSheet.cssText=h:b.appendChild(document.createTextNode(h)),a.appendChild(b)}function c(){var a;return a=document.createElement('i'),a.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></svg>`,a.classList.add('icon'),a}function d(a){let d=document.createElement('div'),f=c(),g=document.createElement('dialog'),h=document.querySelector(this.agent.target)||document.body;g.innerHTML='<p class="vs-head"> Listening ... </p>',e.mic=d,e.dialog=g,b(),d.classList.add('vs'),this.agent.bgColor&&(d.style.backgroundColor=this.agent.bgColor),this.agent.borderColor&&(d.style.borderColor=this.agent.borderColor),g.appendChild(f.cloneNode(!0)),e.dialogHead=e.dialog.querySelector('.vs-head'),e.mic=e.dialog.querySelector('.icon'),d.appendChild(g),d.appendChild(f),h.appendChild(d),d.style.opacity='1',d.addEventListener('click',a)}function e(a){this.agent=new g,Object.assign(this.agent,l,a),this.agent.onresult=m.bind(this.agent),this.agent.onspeechend=i.bind(this.agent),this.agent.onerror=j.bind(this.agent),this.agent.onnomatch=k.bind(this.agent),this.agent.onstart=function(){e.dialogHead.innerHTML='Getting ready to serve you!',e.dialog.open||e.dialog.showModal()},this.agent.onsoundstart=function(){e.dialogHead.innerHTML='Listening ...'},this.agent.onsoundend=function(){e.mic.style.animationName='none'},this.agent.onaudiostart=function(){e.dialogHead.innerHTML='Speak Now ...'},this.agent.onaudioend=function(){e.mic.style.animationName='none'},d.call(this,this.start.bind(this))}var f=document.getElementById('main').getAttribute('data-view');var g=a.SpeechRecognition||a.webkitSpeechRecognition;if(!g)return!1;const h=`@keyframes listening{0%{box-shadow:0 0 50px #afabab}10%{box-shadow:0 0 45px #afabab}20%{box-shadow:0 0 43px #afabab}30%{box-shadow:0 0 40px #afabab}40%{box-shadow:0 0 30px #afabab}50%{box-shadow:0 0 27px #afabab}60%{box-shadow:0 0 25px #afabab}70%{box-shadow:0 0 20px #afabab}80%{box-shadow:0 0 15px #afabab}90%{box-shadow:0 0 10px #afabab}100%{box-shadow:0 0 0 #afabab}}.vs{position:absolute;right:0;top:6px;box-sizing:border-box;text-align:center;color:#fff; cursor:pointer;}.vs .icon{display:inline-block;width:50px;height:50px;color:#fff}.vs dialog .icon{animation-duration:1s;animation-iteration-count:infinite;animation-name:listening;box-shadow:0 0 50px #afabab;width:66px;background-color:#f78f26;border-radius:50%;color:#fff;height:66px;padding-top:20px}.vs.jb .icon path{fill:#f79026}.vs .icon path{fill:#b2b2b2}.vs dialog .icon path,.vs.jb dialog .icon path{fill:#fff}.vs dialog{position:fixed;width:93vw;padding:40px 0;top:70px;border:transparent;background-color:#f2f2f2}.vs .vs-head{font-size:1em;text-transform:capitalize}.vs dialog::backdrop{background-color:rgba(0,0,0,.83)}.show-close-btn .vs{display:none}.search-containter{display:none}@media (max-width:767px){.main-header .top-search-input .vs{right:20px;top:15px}.main-header.show-close-btn .top-search-input .search-containter{display:block}}`,i=function(){e.mic.style.animationName='none',this.stop()},j=function(a){e.mic.style.animationName='none',e.dialogHead.innerHTML='Could not recognise the speech. Please try again!',console.log('Speech recognition error detected: '+a.error+' message '+a.message),this.stop()},k=function(){console.log('Could not recognise the speech, try again...'),this.stop()},l={lang:'en-US',continuous:!1,maxAlternatives:1,interimResults:!1,dictionary:{},mic:'icon',bgColor:'#fff'},m=function(a){var b=a.results[0][0].transcript.toLowerCase(),c=new RegExp(['\\bsearch\\b','\\bfor\\b','\\bshow\\b','\\bfind\\b','\\bget\\b','\\bextract\\b','\\bgive\\b','\\bsame\\b','\\bsimilar\\b','\\bwant\\b','\\bwants\\b','\\bme\\b','\\bi\\b','\\bfetch\\b','\\bdo\\b','\\btake\\b','\\bto\\b','\\bgo\\b','\\bsome\\b'].join('|'),'g');if(b=b.replace(c,''),-1!==window.location.href.indexOf('/customer/self-help-desk')){var d=b.match(/return|order|cancel|refund|exchange/g);if(d){if(e.dialog.querySelector('.vs-head').innerHTML=`Checking for '${d[0]}'`,'order'===d[0])return window.location.href='/customer/self-help-desk/view/order';if('return'===d[0])return window.location.href='/customer/self-help-desk/view/return';if('cancel'===d[0])return window.location.href='/customer/self-help-desk/view/cancellation';if('refund'===d[0])return window.location.href='/customer/self-help-desk/view/refunds';if('exchange'===d[0])return window.location.href='/customer/self-help-desk/view/exchange'}}var g=b.match(/cart|account|wishlist|sign in|log in|login|sign up|track my order|track order|help|order/g);if(g){if(e.dialog.querySelector('.vs-head').innerHTML=`Taking you to '${g[0]}'`,'cart'===g[0])return window.location.href='/cart';if('account'===g[0])return window.location.href='/account';if('wishlist'===g[0])return window.location.href='/quicklist';if('sign in'===g[0]||'log in'===g[0]||'login'===g[0])return window.location.href='/customer/account/login';if('sign up'===g[0])return window.location.href='/customer/account/create';if('order'===g[0])return window.location.href='/customer/order';if('help'===g[0])return window.location.href='/customer/self-help-desk';if('track my order'===g[0]||'track order'===g[0])return window.location.href='/customer/order/trackorder'}var h;a.stopImmediatePropagation(),e.dialog.querySelector('.vs-head').innerHTML=`Looking for '${b}'`,h=this.dictionary[b]?this.dictionary[b]:this.baseUrl+'?q='+encodeURI(b),'function'==typeof this.cb&&this.cb(b,h),'catalog'===f?window.VoiceTextHandler.checkFilter(b):window.location=h};e.prototype.start=function(){e.mic.style.animationName='listening',this.agent.start()},e.prototype.stop=function(){e.mic.style.animationName='none',this.agent.stop()},e.prototype.abort=function(){e.mic.style.animationName='none',this.agent.abort()},a.Recognition=e})(window)}]);
//# sourceMappingURL=vs.tg.js.map